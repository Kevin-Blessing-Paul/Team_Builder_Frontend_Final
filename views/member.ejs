<%- include('partials/header') %>

<h1>Find a Team</h1>

<section class="card">
  <h2>Filter teams</h2>
  <form id="filterForm" class="form" onsubmit="return false;">
    <label>Skill (partial match)</label><br />
    <input id="filterSkill" placeholder="e.g. React" /><br />

    <label>Interest</label><br />
    <input id="filterInterest" placeholder="e.g. AI" /><br />

    <label>Year</label><br />
    <select id="filterYear">
      <option value="">Any</option>
      <option>1</option>
      <option>2</option>
      <option>3</option>
      <option>4</option>
    </select><br />

    <button onclick="applyFilters()">Apply</button>
    <button onclick="resetFilters()">Reset</button>
  </form>
</section>

<section class="card">
  <h2>Available Teams</h2>
  <div id="teamList">
    <% if (teams && teams.length > 0) { %>
      <% teams.forEach(team => { %>
        <div class="team-card" 
             data-skills="<%= team.skills.join(' ').toLowerCase() %>" 
             data-interests="<%= team.interests.join(' ').toLowerCase() %>" 
             data-year="<%= team.year %>">
          <h3><%= team.name %></h3>
          <p><%= team.description %></p>
          <p><strong>Skills:</strong> <%= team.skills.join(', ') %></p>
          <p><strong>Interests:</strong> <%= team.interests.join(', ') %></p>
          <p><strong>Year:</strong> <%= team.year %></p>
          <button type="button" data-team-id="<%= team.id %>" onclick="applyToTeam(this.dataset.teamId)">Apply</button>
        </div>
      <% }) %>
    <% } else { %>
      <p>No teams available.</p>
    <% } %>
  </div>
</section>

<%- include('partials/footer') %>
