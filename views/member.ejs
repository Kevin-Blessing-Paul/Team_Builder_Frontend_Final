<%- include('partials/header') %>

<main class="container">

  <!-- Navigation Back to Login (handled by header.ejs based on bodyClass) -->

  <h1>Find a Team</h1>

  <!-- Filter Section -->
  <section class="card">
    <h2>Filter Teams</h2>
    <form id="filterForm" class="form" onsubmit="return false;">
      <div class="form-group">
        <label for="filterSkill">Skill (partial match)</label>
        <input id="filterSkill" placeholder="e.g. React" />
      </div>

      <div class="form-group">
        <label for="filterInterest">Interest</label>
        <input id="filterInterest" placeholder="e.g. AI" />
      </div>

      <div class="form-group">
        <label for="filterYear">Year</label>
        <select id="filterYear">
          <option value="">Any</option>
          <option>1</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
        </select>
      </div>

      <button type="button" onclick="applyFilters()">Apply</button>
      <button type="button" onclick="resetFilters()">Reset</button>
    </form>
  </section>

  <!-- Available Teams Section -->
  <section class="card">
    <h2>Available Teams</h2>
    <div id="teamList">
      <% if (teams && teams.length > 0) { %>
        <% teams.forEach(team => { %>
          <div class="team-card"
               data-skills="<%= team.skills.join(' ').toLowerCase() %>"
               data-interests="<%= team.interests.join(' ').toLowerCase() %>"
               data-year="<%= team.year %>">
            <h3><%= team.name %></h3>
            <p><%= team.description || '' %></p>
            <p><strong>Skills:</strong> <%= team.skills.join(', ') %></p>
            <p><strong>Interests:</strong> <%= team.interests.join(', ') %></p>
            <p><strong>Year:</strong> <%= team.year %></p>
            <button type="button" data-team-id="<%= team.id %>" onclick="applyToTeam(this.dataset.teamId)">Apply</button>
          </div>
        <% }) %>
      <% } else { %>
        <p>No teams available.</p>
      <% } %>
    </div>
  </section>

</main>

<%- include('partials/footer') %>
